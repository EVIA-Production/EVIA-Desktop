appId: com.evia.desktop
productName: EVIA Desktop

directories:
  output: release

files:
  - dist/**
  - package.json
  - node_modules/**
  - assets/**

asar: true

mac:
  category: public.app-category.productivity
  hardenedRuntime: true
  entitlements: build/entitlements.mac.plist
  entitlementsInherit: build/entitlements.mac.plist
  gatekeeperAssess: false
  extendInfo:
    ElectronTeamID: "not-set" # Use "not-set" for ad-hoc signing
  target:
    - dmg
    - zip
  artifactName: "EVIA-Desktop-${version}-mac-${arch}.${ext}"

win:
  target:
    - nsis
  artifactName: "EVIA-Desktop-${version}-win-${arch}.${ext}"

nsis:
  oneClick: true
  perMachine: false
  allowElevation: true
  allowToChangeInstallationDirectory: false
  deleteAppDataOnUninstall: false

extraResources:
  - from: native/mac/SystemAudioCapture/SystemAudioCapture.app
    to: mac/SystemAudioCapture.app

publish: null
