appId: com.evia.app
productName: EVIA
# üîê Custom URL scheme for deep linking (auth callback from web)
protocols:
  - name: EVIA
    schemes:
      - evia
files:
  - dist/**
  - src/main/assets/**
asarUnpack:
  - "src/main/assets/SystemAudioDump"
  - "src/main/assets/WASAPILoopback.exe"
# üîß Run afterPack script to sign SystemAudioDump with entitlements
afterPack: scripts/afterPack.js
mac:
  icon: src/main/assets/icon.png
  category: public.app-category.productivity
  hardenedRuntime: true
  entitlements: build/entitlements.mac.plist
  entitlementsInherit: build/entitlements.mac.plist
  gatekeeperAssess: false
  extendInfo:
    ElectronTeamID: "not-set" # Use "not-set" for ad-hoc signing
    NSMicrophoneUsageDescription: "EVIA needs access to your microphone to transcribe your voice in meetings."
    NSScreenCaptureUsageDescription: "EVIA needs access to screen recording to capture system audio from meetings and calls."
    NSCameraUsageDescription: "EVIA may need camera access for screen recording functionality."
  target:
    - dir
# DMG disabled due to asar packaging bug (file size limit error)
# dmg:
#   format: UDZO
#   writeUpdateInfo: false
publish: null
